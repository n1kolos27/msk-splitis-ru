# üîß –ë—ã—Å—Ç—Ä–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ ERR_SSL_PROTOCOL_ERROR

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∞
```
ERR_SSL_PROTOCOL_ERROR
localhost –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º—ã–π –æ—Ç–≤–µ—Ç
```

## ‚úÖ –†–µ—à–µ–Ω–∏–µ (3 —à–∞–≥–∞)

### –®–∞–≥ 1: –°–æ–∑–¥–∞—Ç—å SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç

**Windows (–≤–∞—à —Å–ª—É—á–∞–π):**
```powershell
npm run cert:generate:win
```

–ò–ª–∏ –Ω–∞–ø—Ä—è–º—É—é:
```powershell
powershell -ExecutionPolicy Bypass -File generate-localhost-cert.ps1
```

**–ï—Å–ª–∏ OpenSSL –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω:**
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Git for Windows (–≤–∫–ª—é—á–∞–µ—Ç OpenSSL)
2. –ò–ª–∏ Chocolatey: `choco install openssl`
3. –ò–ª–∏ —Å–∫–∞—á–∞–π—Ç–µ: https://slproweb.com/products/Win32OpenSSL.html

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤

–ü–æ—Å–ª–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è —Ñ–∞–π–ª—ã:
```
certs/
  ‚îú‚îÄ‚îÄ localhost.key
  ‚îî‚îÄ‚îÄ localhost.crt
```

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
```powershell
Get-ChildItem certs\
```

### –®–∞–≥ 3: –ó–∞–ø—É—Å—Ç–∏—Ç—å HTTPS —Å–µ—Ä–≤–µ—Ä

```bash
npm run server:https
```

–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
```
‚úì SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –Ω–∞–π–¥–µ–Ω—ã
üîí HTTPS: https://localhost:5443
```

### –®–∞–≥ 4: –û—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ

**–í–∞–∂–Ω–æ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `localhost`, –∞ –Ω–µ `127.0.0.1`

- ‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω–æ:** https://localhost:5443
- ‚ùå **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ:** https://127.0.0.1:5443

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### –ï—Å–ª–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –Ω–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ OpenSSL:**
   ```powershell
   openssl version
   ```

2. **–ï—Å–ª–∏ OpenSSL –Ω–µ –Ω–∞–π–¥–µ–Ω:**
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Git for Windows (–≤–∫–ª—é—á–∞–µ—Ç OpenSSL –≤ `C:\Program Files\Git\usr\bin\`)
   - –î–æ–±–∞–≤—å—Ç–µ –≤ PATH: `C:\Program Files\Git\usr\bin`

3. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ PowerShell –æ—Ç –∏–º–µ–Ω–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞**

### –ï—Å–ª–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç —Å–æ–∑–¥–∞–Ω, –Ω–æ –æ—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω:**
   ```bash
   npm run server:https
   ```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä—Ç:**
   ```powershell
   netstat -ano | findstr :5443
   ```

3. **–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–æ–π –ø–æ—Ä—Ç:**
   ```powershell
   $env:HTTPS_PORT=8443; npm run server:https
   ```

4. **–û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞:**
   - Ctrl+Shift+Delete
   - –ò–ª–∏ –æ—Ç–∫—Ä–æ–π—Ç–µ –≤ —Ä–µ–∂–∏–º–µ –∏–Ω–∫–æ–≥–Ω–∏—Ç–æ

5. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á–µ—Ä–µ–∑ curl:**
   ```powershell
   curl -k https://localhost:5443
   ```

## üöÄ –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: mkcert (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç—Å—è, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `mkcert` - –æ–Ω —Å–æ–∑–¥–∞–µ—Ç —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—Ä–∞—É–∑–µ—Ä –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ mkcert:

```powershell
# –ß–µ—Ä–µ–∑ Chocolatey
choco install mkcert

# –ò–ª–∏ —Å–∫–∞—á–∞–π—Ç–µ —Å GitHub
# https://github.com/FiloSottile/mkcert/releases
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:

```powershell
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π CA
mkcert -install

# –°–æ–∑–¥–∞—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
mkcert localhost 127.0.0.1 ::1

# –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å —Ñ–∞–π–ª—ã
Move-Item localhost+1.pem certs\localhost.crt
Move-Item localhost+1-key.pem certs\localhost.key
```

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –±—Ä–∞—É–∑–µ—Ä –Ω–µ –±—É–¥–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ!

## üìã –ß–µ–∫–ª–∏—Å—Ç

- [ ] OpenSSL —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω (`openssl version`)
- [ ] –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã —Å–æ–∑–¥–∞–Ω—ã (`certs/localhost.key` –∏ `certs/localhost.crt` —Å—É—â–µ—Å—Ç–≤—É—é—Ç)
- [ ] –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω (`npm run server:https`)
- [ ] –í –∫–æ–Ω—Å–æ–ª–∏ –≤–∏–¥–Ω–æ `‚úì SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –Ω–∞–π–¥–µ–Ω—ã`
- [ ] –ò—Å–ø–æ–ª—å–∑—É–µ—Ç–µ `localhost`, –∞ –Ω–µ `127.0.0.1`
- [ ] –ü–æ—Ä—Ç 5443 –Ω–µ –∑–∞–Ω—è—Ç –¥—Ä—É–≥–∏–º –ø—Ä–æ—Ü–µ—Å—Å–æ–º

## üí° –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç

–í—Ä–µ–º–µ–Ω–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTP –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
```bash
npm run server
```

–ò –ø—Ä–æ–≤–µ—Ä—å—Ç–µ HTTPS –Ω–∞ production —Å–µ—Ä–≤–µ—Ä–µ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è.
