# Timeweb Cloud API - Документация

## Получение токена

1. Войдите в панель Timeweb Cloud
2. Перейдите: **API и Terraform** → **Токены API**
3. Нажмите **"Создать"**
4. Укажите имя токена (например: "DNS Management" или "splitis.ru DNS setup")
5. Выберите срок действия (по умолчанию: "Бессрочно")
6. Настройте параметры безопасности:
   - "Удалять сервисы по API без кода в Телеграме" (включено по умолчанию)
   - "Ограниченные права для токена" (опционально)
7. Нажмите **"Выпустить"**
8. **ВАЖНО:** Скопируйте токен сразу, так как его нельзя будет посмотреть повторно!

## Хранение токена

Токен сохранен в файле `timeweb-token.txt` (не добавляется в git).

**ВАЖНО:** 
- Файл `timeweb-token.txt` добавлен в `.gitignore`
- Не делитесь токеном и не добавляйте его в репозиторий
- Храните токен в безопасном месте (менеджер паролей)

## Использование токена

### 1. API запросы (HTTP)

```bash
# Экспортируйте токен как переменную окружения
export TIMEWEB_CLOUD_API_TOKEN="ваш_токен"

# Используйте в curl запросах
curl -H "Authorization: Bearer ${TIMEWEB_CLOUD_API_TOKEN}" \
     https://api.timeweb.cloud/api/v1/domains
```

### 2. Terraform

```hcl
# В terraform.tfvars
timeweb_cloud_token = "ваш_токен"

# Или через переменную окружения
export TIMEWEB_CLOUD_API_TOKEN="ваш_токен"
```

### 3. CLI (Timeweb Cloud CLI)

```bash
# Установка CLI (если еще не установлен)
# См. документацию: https://timeweb.cloud/docs/cli

# Авторизация с токеном
twcli auth --token ваш_токен
```

## Безопасность

- Токен предоставляет **ПОЛНЫЙ доступ** к вашей инфраструктуре в Timeweb Cloud
- Храните токен в безопасном месте (менеджер паролей)
- Не передавайте токен третьим лицам
- Если токен скомпрометирован, немедленно удалите его в панели Timeweb Cloud:
  - **API и Terraform** → **Токены API** → выберите токен → **Удалить**
- Регулярно обновляйте токены для повышения безопасности

## Документация

- [Документация API Timeweb Cloud](https://timeweb.cloud/docs/api)
- [Terraform Provider](https://timeweb.cloud/docs/terraform)
- [CLI Documentation](https://timeweb.cloud/docs/cli)

